(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
//const Sscale:number=window.devicePixelRatio;
var canvas = document.getElementById("main-panel");
var ctx = canvas.getContext("2d");
var showBar = document.querySelector("#show");
var showWord = "";
var screenWidth = canvas.width = window.innerWidth; //*Sscale;
var screenHeight = canvas.height = window.innerHeight; //*Sscale;
var lines = [];
var alpha = 0;
var beta = 0;
var gamma = 0;
var betaArr = [];
var gammaArr = [];
//----------------------------
if (window.DeviceOrientationEvent) {
    window.addEventListener('deviceorientation', function (e) {
        alpha = e.alpha;
        beta = e.beta;
        gamma = e.gamma;
    });
}
var startLines = (function () {
    function startLines() {
        this.positionx = -200;
        this.positiony = 0;
        this.r = Math.floor(Math.random() * (Math.sqrt(screenHeight * screenHeight + screenWidth * screenWidth) - 400)) + 400;
        this.startRadio = -(Math.random() * Math.PI / 8 + Math.PI / 8);
        this.endRadio = 0;
        this.red = Math.floor(Math.random() * 155) + 100;
        this.green = Math.floor(Math.random() * 155) + 100;
        this.blue = Math.floor(Math.random() * 155) + 100;
        //opacity:number=Math.floor(Math.random()*10)/10;
        this.opacity = 1;
        this.lineWidth = Math.floor(Math.random() * 6) + 2;
        this.speed = (Math.random() * Math.PI + Math.PI) / this.r;
    }
    startLines.prototype.drawStart = function () {
        var color = "rgba(" + this.red + "," + this.green + "," + this.blue + "," + this.opacity + ")";
        ctx.beginPath();
        ctx.lineWidth = this.lineWidth;
        ctx.arc(this.positionx, this.positiony, this.r, this.startRadio, this.endRadio);
        ctx.strokeStyle = color;
        ctx.stroke();
    };
    startLines.prototype.animate = function () {
        var speG = 0;
        var speB = 0;
        if (gammaArr[gammaArr.length - 1] && gammaArr[gammaArr.length - 10]) {
            speG = parseInt(gammaArr[gammaArr.length - 1]) - parseInt(gammaArr[gammaArr.length - 10]);
        }
        if (betaArr[betaArr.length - 1] && betaArr[betaArr.length - 10]) {
            speB = parseInt(betaArr[betaArr.length - 1]) - parseInt(betaArr[betaArr.length - 10]);
        }
        //showWord=`x:${this.positionx},y:${this.positiony},gamma:${gamma},beta:${beta}--${speG}---${speB}`;
        if (gammaArr.length > 10) {
            if (speG < 0 && this.positionx >= -250) {
                this.positionx -= 2;
            }
            else if (speG > 0 && this.positionx <= -150) {
                this.positionx += 2;
            }
            else {
                this.positionx;
            }
        }
        if (betaArr.length > 10) {
            if (speB < 0 && this.positiony >= -50) {
                this.positionx -= 2;
            }
            else if (speB > 0 && this.positiony <= 50) {
                this.positionx += 2;
            }
            else {
                this.positionx;
            }
        }
        this.startRadio += this.speed;
        this.endRadio += this.speed;
        this.drawStart();
    };
    return startLines;
}());
function recovery(arr, index) {
    var tempArr = [];
    for (var i = 0; i < arr.length; i++) {
        if (i != index) {
            tempArr.push(arr[i]);
        }
    }
    return tempArr;
}
setInterval(function () {
    var starLine = new startLines();
    lines.push(starLine);
    starLine.drawStart();
    for (var i = 0; i < lines.length; i++) {
        if (lines[i].startRadio > Math.PI * 3 / 4) {
            lines = recovery(lines, i);
        }
    }
    if (lines.length > 80) {
        lines.shift();
    }
}, 200);
setInterval(function () {
    betaArr.push(beta);
    gammaArr.push(gamma);
    if (betaArr.length > 30) {
        betaArr.shift();
        gammaArr.shift();
    }
    //showBar.innerHTML=showWord+`  lastB:${betaArr[betaArr.length-1]} lastG:${gammaArr[gammaArr.length-1]}`;
    ctx.clearRect(0, 0, screenWidth, screenHeight);
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.lineTo(0, screenHeight);
    ctx.lineTo(screenWidth, screenHeight);
    ctx.lineTo(screenWidth, 0);
    ctx.fillStyle = "#222222";
    ctx.closePath();
    ctx.fill();
    // ctx.font ="72pt Calibri";
    // ctx.fillStyle = "#F1C410";
    // ctx.fillText("杭州",50,200);
    for (var _i = 0, lines_1 = lines; _i < lines_1.length; _i++) {
        var item = lines_1[_i];
        item.animate();
    }
}, 1000 / 60);
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsOENBQThDO0FBQzlDLElBQU0sTUFBTSxHQUFPLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDekQsSUFBTSxHQUFHLEdBQU8sTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUV4QyxJQUFNLE9BQU8sR0FBSyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ2xELElBQUksUUFBUSxHQUFRLEVBQUUsQ0FBQztBQUV2QixJQUFNLFdBQVcsR0FBUSxNQUFNLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUEsQ0FBQSxVQUFVO0FBQ25FLElBQU0sWUFBWSxHQUFVLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQSxDQUFBLFVBQVU7QUFFeEUsSUFBSSxLQUFLLEdBQU8sRUFBRSxDQUFDO0FBQ25CLElBQUksS0FBSyxHQUFRLENBQUMsQ0FBQztBQUNuQixJQUFJLElBQUksR0FBUSxDQUFDLENBQUM7QUFDbEIsSUFBSSxLQUFLLEdBQVMsQ0FBQyxDQUFDO0FBRXBCLElBQUksT0FBTyxHQUFPLEVBQUUsQ0FBQztBQUNyQixJQUFJLFFBQVEsR0FBTyxFQUFFLENBQUM7QUFFdEIsOEJBQThCO0FBQzlCLEVBQUUsQ0FBQSxDQUFPLE1BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFBLENBQUM7SUFDeEMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixFQUFDLFVBQVMsQ0FBQztRQUNyRCxLQUFLLEdBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUNmLElBQUksR0FBRSxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2IsS0FBSyxHQUFFLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDaEIsQ0FBQyxDQUFDLENBQUE7QUFDSCxDQUFD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LENBQUMsT0FBTyxFQUFFLENBQUM7S0FDZjtBQUNGLENBQUMsRUFBQyxJQUFJLEdBQUMsRUFBRSxDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy9jb25zdCBTc2NhbGU6bnVtYmVyPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG5jb25zdCBjYW52YXM6YW55ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluLXBhbmVsXCIpO1xyXG5jb25zdCBjdHg6YW55ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbmNvbnN0IHNob3dCYXI6YW55PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2hvd1wiKTtcclxubGV0IHNob3dXb3JkOnN0cmluZz1cIlwiO1xyXG5cclxuY29uc3Qgc2NyZWVuV2lkdGg6bnVtYmVyPWNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLy8qU3NjYWxlO1xyXG5jb25zdCBzY3JlZW5IZWlnaHQ6bnVtYmVyID0gY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodC8vKlNzY2FsZTtcclxuXHJcbmxldCBsaW5lczphbnlbXT1bXTtcclxubGV0IGFscGhhOm51bWJlcj0wO1xyXG5sZXQgYmV0YTpudW1iZXI9MDtcclxubGV0IGdhbW1hOm51bWJlciA9MDtcclxuXHJcbmxldCBiZXRhQXJyOmFueVtdPVtdO1xyXG5sZXQgZ2FtbWFBcnI6YW55W109W107XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaWYoKDxhbnk+d2luZG93KS5EZXZpY2VPcmllbnRhdGlvbkV2ZW50KXtcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLGZ1bmN0aW9uKGUpe1xyXG5cdFx0YWxwaGE9IGUuYWxwaGE7XHJcblx0XHRiZXRhPSBlLmJldGE7XHJcblx0XHRnYW1tYT0gZS5nYW1tYTtcclxuXHR9KVxyXG59XHJcblxyXG5jbGFzcyBzdGFydExpbmVze1xyXG5cdHBvc2l0aW9ueDpudW1iZXIgPS0yMDA7XHJcblx0cG9zaXRpb255Om51bWJlciA9MDtcclxuXHRyOm51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooTWF0aC5zcXJ0KHNjcmVlbkhlaWdodCpzY3JlZW5IZWlnaHQrc2NyZWVuV2lkdGgqc2NyZWVuV2lkdGgpLTQwMCkpKzQwMDtcclxuXHRzdGFydFJhZGlvOm51bWJlcj0tKE1hdGgucmFuZG9tKCkqTWF0aC5QSS84K01hdGguUEkvOCk7XHJcblx0ZW5kUmFkaW86bnVtYmVyPTA7XHJcblx0cmVkOm51bWJlcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTU1KSsxMDA7XHJcblx0Z3JlZW46bnVtYmVyPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxNTUpKzEwMDtcclxuXHRibHVlOm51bWJlcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTU1KSsxMDA7XHJcblx0Ly9vcGFjaXR5Om51bWJlcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTApLzEwO1xyXG5cdG9wYWNpdHk6bnVtYmVyPTE7XHJcblx0bGluZVdpZHRoOm51bWJlcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNikrMjtcclxuXHRzcGVlZDpudW1iZXIgPSAoTWF0aC5yYW5kb20oKSpNYXRoLlBJK01hdGguUEkpL3RoaXMucjtcclxuXHRjb25zdHJ1Y3Rvcigpe1xyXG5cdH1cclxuXHRkcmF3U3RhcnQoKXtcclxuXHRcdGxldCBjb2xvciA9IGByZ2JhKCR7dGhpcy5yZWR9LCR7dGhpcy5ncmVlbn0sJHt0aGlzLmJsdWV9LCR7dGhpcy5vcGFjaXR5fSlgO1xyXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0Y3R4LmxpbmVXaWR0aD0gdGhpcy5saW5lV2lkdGg7XHJcblx0XHRjdHguYXJjKHRoaXMucG9zaXRpb254LHRoaXMucG9zaXRpb255LHRoaXMucix0aGlzLnN0YXJ0UmFkaW8sdGhpcy5lbmRSYWRpbyk7XHJcblx0XHRjdHguc3Ryb2tlU3R5bGU9Y29sb3I7XHJcblx0XHRjdHguc3Ryb2tlKCk7XHJcblx0fVxyXG5cdGFuaW1hdGUoKXtcclxuXHRcdGxldCBzcGVHOm51bWJlcj0wO1xyXG5cdFx0bGV0IHNwZUI6bnVtYmVyPTA7XHJcblx0XHRpZihnYW1tYUFycltnYW1tYUFyci5sZW5ndGgtMV0gJiYgZ2FtbWFBcnJbZ2FtbWFBcnIubGVuZ3RoLTEwXSl7XHJcblx0XHRcdHNwZUc9IHBhcnNlSW50KGdhbW1hQXJyW2dhbW1hQXJyLmxlbmd0aC0xXSktcGFyc2VJbnQoZ2FtbWFBcnJbZ2FtbWFBcnIubGVuZ3RoLTEwXSk7XHJcblx0XHR9XHJcblx0XHRpZihiZXRhQXJyW2JldGFBcnIubGVuZ3RoLTFdICYmIGJldGFBcnJbYmV0YUFyci5sZW5ndGgtMTBdKXtcclxuXHRcdFx0c3BlQj0gcGFyc2VJbnQoYmV0YUFycltiZXRhQXJyLmxlbmd0aC0xXSktcGFyc2VJbnQoYmV0YUFycltiZXRhQXJyLmxlbmd0aC0xMF0pO1xyXG5cdFx0fVxyXG5cdFx0Ly9zaG93V29yZD1geDoke3RoaXMucG9zaXRpb254fSx5OiR7dGhpcy5wb3NpdGlvbnl9LGdhbW1hOiR7Z2FtbWF9LGJldGE6JHtiZXRhfS0tJHtzcGVHfS0tLSR7c3BlQn1gO1xyXG5cdFx0XHJcblxyXG5cdFx0aWYoZ2FtbWFBcnIubGVuZ3RoPjEwKXtcclxuXHRcdFx0aWYoc3BlRzwwICYmIHRoaXMucG9zaXRpb254Pj0tMjUwKXtcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9ueC09MjtcclxuXHRcdFx0fWVsc2UgaWYoc3BlRz4wICYmIHRoaXMucG9zaXRpb254PD0tMTUwKXtcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9ueCs9MjtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbng7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKGJldGFBcnIubGVuZ3RoPjEwKXtcclxuXHRcdFx0aWYoc3BlQjwwICYmIHRoaXMucG9zaXRpb255ID49IC01MCl7XHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbngtPTI7XHJcblx0XHRcdH1lbHNlIGlmKHNwZUI+MCAmJiB0aGlzLnBvc2l0aW9ueSA8PTUwKXtcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9ueCs9MjtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbng7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuc3RhcnRSYWRpbys9dGhpcy5zcGVlZDtcclxuXHRcdHRoaXMuZW5kUmFkaW8rPXRoaXMuc3BlZWQ7XHJcblx0XHR0aGlzLmRyYXdTdGFydCgpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVjb3ZlcnkoYXJyLGluZGV4KXtcclxuXHR2YXIgdGVtcEFycjphbnlbXT1bXTtcclxuXHRmb3IodmFyIGk9MDtpPGFyci5sZW5ndGg7aSsrKXtcclxuXHRcdGlmKGkhPWluZGV4KXtcclxuXHRcdFx0dGVtcEFyci5wdXNoKGFycltpXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiB0ZW1wQXJyO1xyXG59XHJcbnNldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcblx0dmFyIHN0YXJMaW5lID0gbmV3IHN0YXJ0TGluZXMoKTtcclxuXHRsaW5lcy5wdXNoKHN0YXJMaW5lKTtcclxuXHRzdGFyTGluZS5kcmF3U3RhcnQoKTtcclxuXHRmb3IobGV0IGk9MDtpPGxpbmVzLmxlbmd0aDtpKyspe1xyXG5cdFx0aWYobGluZXNbaV0uc3RhcnRSYWRpbz5NYXRoLlBJKjMvNCl7XHJcblx0XHRcdGxpbmVzID0gcmVjb3ZlcnkobGluZXMsaSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmKGxpbmVzLmxlbmd0aD44MCl7XHJcblx0XHRsaW5lcy5zaGlmdCgpO1xyXG5cdH1cclxufSwyMDApXHJcblxyXG5zZXRJbnRlcnZhbCgoKT0+e1xyXG5cdGJldGFBcnIucHVzaChiZXRhKTtcclxuXHRnYW1tYUFyci5wdXNoKGdhbW1hKTtcclxuXHRpZihiZXRhQXJyLmxlbmd0aD4zMCl7XHJcblx0XHRiZXRhQXJyLnNoaWZ0KCk7XHJcblx0XHRnYW1tYUFyci5zaGlmdCgpO1xyXG5cdH1cclxuXHQvL3Nob3dCYXIuaW5uZXJIVE1MPXNob3dXb3JkK2AgIGxhc3RCOiR7YmV0YUFycltiZXRhQXJyLmxlbmd0aC0xXX0gbGFzdEc6JHtnYW1tYUFycltnYW1tYUFyci5sZW5ndGgtMV19YDtcclxuXHRjdHguY2xlYXJSZWN0KDAsMCxzY3JlZW5XaWR0aCxzY3JlZW5IZWlnaHQpO1xyXG5cclxuXHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5tb3ZlVG8oMCwwKTtcclxuXHRjdHgubGluZVRvKDAsc2NyZWVuSGVpZ2h0KTtcclxuXHRjdHgubGluZVRvKHNjcmVlbldpZHRoLHNjcmVlbkhlaWdodCk7XHJcblx0Y3R4LmxpbmVUbyhzY3JlZW5XaWR0aCwwKVxyXG5cdGN0eC5maWxsU3R5bGU9XCIjMjIyMjIyXCI7XHJcblx0Y3R4LmNsb3NlUGF0aCgpO1xyXG5cdGN0eC5maWxsKCk7XHJcblx0Ly8gY3R4LmZvbnQgPVwiNzJwdCBDYWxpYnJpXCI7XHJcblx0Ly8gY3R4LmZpbGxTdHlsZSA9IFwiI0YxQzQxMFwiO1xyXG5cdC8vIGN0eC5maWxsVGV4dChcIuadreW3nlwiLDUwLDIwMCk7XHJcblxyXG5cdGZvcihsZXQgaXRlbSBvZiBsaW5lcyl7XHJcblx0XHRpdGVtLmFuaW1hdGUoKTtcclxuXHR9XHJcbn0sMTAwMC82MCk7XHJcblxyXG5cclxuXHJcblxyXG4iXX0=
